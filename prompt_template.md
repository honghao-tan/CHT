| **Refactoring**                           | **Benign Program**                                                                                                                                                                                                                                                                                                                                                                                                                                                         | **Prompt Template**                                                                                                                |
| :---------------------------------------: |:---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------| :--------------------------------------------------------------------------------------------------------------------------------: |
| rename class                              | public class Test { <br>     void test1() { <br>         class Dummy {}; <br>         Dummy d = new Dummy(); <br>     } <br>     void test2() { <br>         class Dummy {}; <br>         Dummy d = new Dummy(); <br>     } <br> }                                                                                                                                                                                                                                         | Rename the class "Test" to [keyword]                                                                                               |
| rename field                              | public class Entity { <br>     private int newName; <br>     public int getNewName() { <br>         return newName; <br>     } <br>     public void setNewName(int oldName) { <br>         this.newName = oldName; <br>     } <br> }                                                                                                                                                                                                                                       | Rename the field "newName" to [keyword]                                                                                            |
| rename method                             | public class Try { <br>     void abc() { <br>     } <br>     void ref() { <br>         abc(); <br>     } <br> }                                                                                                                                                                                                                                                                                                                                                            | Rename the method "abc" to [keyword]                                                                                               |
| rename variable                           | class X { <br>     public static final String s = 's'; <br>     public static void main(String... args) { <br>         String s1 = s; <br>     } <br> }                                                                                                                                                                                                                                                                                                                    | Rename the variable "s1" to [keyword]                                                                                              |
| change method signature                   | public class RefactorWithVarArgsBug { <br>     public static void main(String[] args) { <br>         RefactorWithVarArgsBug o = new RefactorWithVarArgsBug(true); <br>     } <br>     public RefactorWithVarArgsBug(boolean a, String... strings) { <br>     } <br> }                                                                                                                                                                                                      | Add a new parameter to the "RefactorWithVarArgsBug" method and name it [keyword]                                                   |
| Introduce Parameter Object                | @SuppressWarnings("preview") <br> record R(int i) { <br> R { <br> System.out.println("Compact Constructor"); <br> } <br> }                                                                                                                                                                                                                                                                                                                                                 | Introduce a new Parameter Object and name it [keyword]                                                                             |
| introduce parameter                       | class C { <br>     int foo(int i, int... array) { <br>         return 42; <br>     } <br> }                                                                                                                                                                                                                                                                                                                                                                                | Introduce a new parameter to the foo method and name it [keyword]                                                                  |
| extract variable                          | enum Bug { <br> X; <br> { <br> switch (valueOf("X")) { <br> } <br> } <br> }                                                                                                                                                                                                                                                                                                                                                                                                | Extract a temporary variable from the switch expression and name it [keyword]                                                      |
| extract method                            | public class Example { <br>     public void foo(int i) { <br>         switch(i) { <br>             case 1: <br>                 if (true) { <br>                     break; <br>                 } <br>         } <br>     } <br> }                                                                                                                                                                                                                                        | Extract a method that includes the switch and name it [keyword]                                                                    |
| extract class                             | class X { <br>     public static final int LEFT = 0, RIGHT = 1, CENTERED = 2, JUSTIFIED = 3; <br> }                                                                                                                                                                                                                                                                                                                                                                        | Extract a class as an enum and name it [keyword]                                                                                   |
| Encapsulate Collection                    | public class Person { <br>     private List<String> courses; <br>     public List<String> getCourses() { <br>         return this.courses; <br>     } <br>     public void setCourses(List<String> aList) { <br>         this.courses = aList; <br>     } <br> }                                                                                                                                                                                                           | Encapsulate the collection by adding methods to manage course additions and removals. Name them add[keyword] and remove[keyword]   |
| Encapsulate Record                        | public String getOrganization() { <br>     return "Organization{name='" + "Acme Gooseberries" + "'}"; <br> }                                                                                                                                                                                                                                                                                                                                                               | Encapsulate the record by adding methods to get and set names. Name them get[keyword] and set[keyword]                             |
| Encapsulate Variable                      | public class A { <br>     boolean[] theField[]; <br> }                                                                                                                                                                                                                                                                                                                                                                                                                     | Encapsulate the "theField" variable, and name its getter [keyword]                                                                 |
| Extract Superclass                        | import java.io.FilterReader; <br> import java.io.IOException; <br> import java.io.Reader; <br> public class ClassA extends FilterReader { <br>     public ClassA(Reader in) { <br>         super(in); <br>     } <br>     @Override <br>     public int read(char[] cbuf, int off, int len) throws IOException { <br>         return super.read(cbuf, off, len); <br>     } <br> }                                                                                         | Extract a superclass and name it [keyword]                                                                                         |
| Hide Delegate                             | public class Department { <br>     private String manager; <br>  <br>     public Department(String manager) { <br>         this.manager = manager; <br>     } <br>     public String getManager() { <br>         return manager; <br>     } <br>     public void setManager(String manager) { <br>         this.manager = manager; <br>     } <br> }                                                                                                                       | Refactor the following class to hide delegation. Create a new class to hide the delegation of the department and name it [keyword] |
| Introduce Special Case                    | public class Customer { <br>     private String name; <br>     public Customer(String name) { <br>         this.name = name; <br>     } <br>     public String getName() { <br>         if ("unknown".equals(name)) { <br>             return "occupant"; <br>         } <br>         return name; <br>     } <br> }                                                                                                                                                       | Create a new class to handle the special case and name it [keyword]                                                                |
| Parameterize Function                     | public class Person { <br>     private BigDecimal salary; <br>     public void tenPercentRaise() { <br>         this.salary = this.salary.multiply(BigDecimal.valueOf(1\.1)); <br>     } <br>     public void fivePercentRaise() { <br>         this.salary = this.salary.multiply(BigDecimal.valueOf(1.05)); <br>     } <br> }                                                                                                                                            | Create a new function and name it [keyword] to parameterize the function                                                           |
| Remove Flag Argument                      | public class Rectangle { <br>     private double height; <br>     public void setDimension(String name, double value) { <br>         if (name.equals("height")) { <br>             this.height = value; <br>         }  <br>     } <br> }                                                                                                                                                                                                                                  | Remove the flag argument by creating a method to handle the height and naming it [keyword]                                         |
| Replace Command with Function             | public class ChargeCalculator { <br>     private Customer customer; <br>     private double usage; <br>     public ChargeCalculator(Customer customer, double usage) { <br>         this.customer = customer; <br>         this.usage = usage; <br>     } <br>     public double execute() { <br>         return this.customer.getRate() \* this.usage; <br>     } <br> }                                                                                                  | Replace this command class with a function and name it [keyword]                                                                   |
| Replace Conditional with Polymorphism     | public String getStatus() { <br>         switch (type) { <br>             case "EuropeanSwallow": <br>                 return "average"; <br>             case "AfricanSwallow": <br>                 return (numberOfCoconuts > 2) ? "tired" : "average"; <br>             case "NorwegianBlueParrot": <br>                 return (voltage > 100) ? "scorched" : "beautiful"; <br>             default: <br>                 return "unknown"; <br>         } <br>     } | Replace conditional with polymorphism, using a method to return the type of plumage and name it [keyword]                          |
| Replace Constructor with Factory Function | class A { <br>     public A() { <br>     } <br>     public static A createA() { <br>         return A.createA(); <br>     } <br> }                                                                                                                                                                                                                                                                                                                                         | Replace the constructor with a factory function and name it [keyword]                                                              |
| Replace Error Code with Exception         | public Object createShippingRules(boolean data) { <br>     if (data) { <br>         return new ShippingRules(); <br>     } else { <br>         return -23; <br>     } <br> }                                                                                                                                                                                                                                                                                               | Replace the error code with an exception and name it [keyword]                                                                     |
| Replace Function with Command             | public int score(Candidate candidate, MedicalExam medicalExam, ScoringGuide scoringGuide) { <br>         int result = 0; <br>         int healthLevel = 0; <br>         // long body code <br>         return result; <br>     }                                                                                                                                                                                                                                           | Replace the function with a command and name it [keyword]                                                                          |
| Replace Magic Literal                     | public static double potentialEnergy(double mass, double height) { <br>         return mass \* 9\.81 \* height; <br>     }                                                                                                                                                                                                                                                                                                                                                 | Replace the magic literal with a constant and name it [keyword]                                                                    |
| Replace Primitive with Object             | List<Order> filteredOrders = orders.stream() <br>     .filter(o -> "high".equals(o.getPriority()) \|\| "rush".equals(o.getPriority())) <br>     .collect(Collectors.toList());                                                                                                                                                                                                                                                                                             | Replace the primitive with an object that has a method to compare and name it [keyword]                                            |
| Replace Subclass with Delegate            | class Order { <br>     protected Warehouse \_warehouse; <br>     public int getDaysToShip() { <br>         return \_warehouse.getDaysToShip(); <br>     } <br> } <br> class PriorityOrder extends Order { <br>     protected PriorityPlan \_priorityPlan; <br>  <br>     @Override <br>     public int getDaysToShip() { <br>         return \_priorityPlan.getDaysToShip(); <br>     } <br> }                                                                             | Replace the subclass with a delegate and name it [keyword]                                                                         |
| Replace Superclass with Delegate          | class List { <br>     // ... <br> } <br> class Stack extends List { <br>     // ... <br> }                                                                                                                                                                                                                                                                                                                                                                                 | Replace the superclass with a delegate and name it [keyword]                                                                       |
| Replace Temp with Query                   | double basePrice = this.\_quantity \* this.\_itemPrice; <br> if (basePrice > 1000) { <br>     return basePrice \* 0\.95; <br> } else { <br>     return basePrice \* 0.98; <br> }                                                                                                                                                                                                                                                                                           | Replace the temp variable with a query method and name it [keyword]                                                                |
| Replace Type Code with Subclasses         | public Employee createEmployee(String name, String type) { <br>     return new Employee(name, type); <br> }                                                                                                                                                                                                                                                                                                                                                                | Replace the type code with subclasses and name them [keyword]                                                                      |
| Separate Query from Modifier              | public double getTotalOutstandingAndSendBill() { <br>     double result = 0; <br>     for (Invoice each : customer.getInvoices()) { <br>         result += each.getAmount(); <br>     } <br>     sendBill(); <br>     return result; <br> }                                                                                                                                                                                                                                | Separate the query from the modifier and use a method for querying and name it [keyword]                                           |
| Split Phase                               | String[] orderData = orderString.split("\\\\s+"); <br> String[] productDetails = orderData[0].split("-"); <br> int productPrice = priceList.get(productDetails[1]); <br> int orderPrice = Integer.parseInt(orderData[1]) \* productPrice;                                                                                                                                                                                                                                  | Split the phase and use a method for querying price and name it [keyword]                                                          |
| Split Variable                            | int temp = 2 \* (height + width); <br> System.out.println(temp); <br> temp = height \* width; <br> System.out.println(temp);                                                                                                                                                                                                                                                                                                                                               | Split the variable and use a variable for the temp and name it [keyword]                                                           |